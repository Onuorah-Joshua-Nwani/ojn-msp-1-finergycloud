<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content="FinergyCloud Mobile - AI-driven risk intelligence for renewable energy investors">
    <meta name="theme-color" content="#004d40">
    
    <title>FinergyCloud Mobile</title>
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="FinergyCloud">
    <meta name="application-name" content="FinergyCloud">
    
    <!-- Load Chart.js directly in head for immediate availability -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.5.0/dist/chart.umd.min.js"></script>
    
    <!-- Favicon and Icons -->
    <link rel="icon" type="image/png" href="../assets/images/android-chrome-192x192.png">
    <link rel="apple-touch-icon" href="../assets/images/android-chrome-192x192.png">
    
    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    
    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles/app.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <button id="menu-toggle" class="menu-btn" aria-label="Menu">
                    <i class="bi bi-list"></i>
                </button>
                <div class="header-brand">
                    <h1 class="header-title">FinergyCloud</h1>
                    <p class="header-subtitle">AI Risk Intelligence</p>
                </div>
            </div>
            <div class="header-right">
                <button class="notification-btn" aria-label="Notifications">
                    <i class="bi bi-bell"></i>
                </button>
            </div>
        </header>
        
        <!-- Side Navigation -->
        <nav id="side-nav" class="side-nav">
            <div class="nav-header">
                <div class="nav-brand">FinergyCloud</div>
                <div class="nav-tagline">AI Risk Intelligence</div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#dashboard" class="nav-link active" data-page="dashboard">
                        <i class="bi bi-speedometer2"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#calculator" class="nav-link" data-page="calculator">
                        <i class="bi bi-calculator"></i>
                        <span>IRR Calculator</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#projects" class="nav-link" data-page="projects">
                        <i class="bi bi-folder"></i>
                        <span>Projects</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#esg" class="nav-link" data-page="esg">
                        <i class="bi bi-leaf"></i>
                        <span>ESG Scoring</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#analytics" class="nav-link" data-page="analytics">
                        <i class="bi bi-graph-up"></i>
                        <span>Analytics</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#xgboost" class="nav-link" data-page="xgboost">
                        <i class="bi bi-cpu"></i>
                        <span>XGBoost Model</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#blog" class="nav-link" data-page="blog">
                        <i class="bi bi-journal-text"></i>
                        <span>Blog</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#legal" class="nav-link" data-page="legal">
                        <i class="bi bi-shield-lock"></i>
                        <span>Legal</span>
                    </a>
                </li>
            </ul>
            <div class="nav-footer">
                <button class="upgrade-btn">
                    <i class="bi bi-star me-2"></i>Upgrade to Pro
                </button>
            </div>
        </nav>
        
        <!-- Navigation Overlay -->
        <div id="nav-overlay" class="nav-overlay"></div>
        
        <!-- Main Content -->
        <main id="main-content" class="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard-page" class="page active">
                <div class="page-header">
                    <h2 class="page-title">Dashboard</h2>
                    <p class="page-subtitle">Welcome to FinergyCloud Mobile</p>
                </div>
                
                <!-- Key Metrics -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">15.2%</div>
                        <div class="metric-label">Average IRR</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">8.7</div>
                        <div class="metric-label">ESG Score</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">₦120M+</div>
                        <div class="metric-label">Analyzed Value</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">Low</div>
                        <div class="metric-label">Risk Level</div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Quick Actions</h3>
                    </div>
                    <div class="action-cards">
                        <div class="action-card" data-page="calculator">
                            <div class="action-icon">
                                <i class="bi bi-calculator"></i>
                            </div>
                            <div class="action-title">IRR Calculator</div>
                            <div class="action-subtitle">Run financial simulations</div>
                        </div>
                        <div class="action-card" data-page="projects">
                            <div class="action-icon">
                                <i class="bi bi-folder-plus"></i>
                            </div>
                            <div class="action-title">New Project</div>
                            <div class="action-subtitle">Add investment project</div>
                        </div>
                        <div class="action-card" data-page="esg">
                            <div class="action-icon">
                                <i class="bi bi-leaf"></i>
                            </div>
                            <div class="action-title">ESG Score</div>
                            <div class="action-subtitle">Assess sustainability</div>
                        </div>
                        <div class="action-card" data-page="xgboost">
                            <div class="action-icon">
                                <i class="bi bi-cpu"></i>
                            </div>
                            <div class="action-title">AI Prediction</div>
                            <div class="action-subtitle">XGBoost analysis</div>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Projects -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Recent Projects</h3>
                        <a href="#projects" class="section-action" data-page="projects">
                            View All <i class="bi bi-chevron-right"></i>
                        </a>
                    </div>
                    <div class="card">
                        <div class="project-item">
                            <div class="project-header">
                                <div>
                                    <div class="project-title">Lagos Solar Farm</div>
                                    <div class="project-subtitle">5.0 MW • Solar</div>
                                </div>
                                <div class="project-status success">Active</div>
                            </div>
                            <div class="project-metrics">
                                <div class="project-metric">
                                    <div class="metric-label">IRR</div>
                                    <div class="metric-value">16.8%</div>
                                </div>
                                <div class="project-metric">
                                    <div class="metric-label">ESG</div>
                                    <div class="metric-value">8.9</div>
                                </div>
                                <div class="project-metric">
                                    <div class="metric-label">Risk</div>
                                    <div class="metric-value">Low</div>
                                </div>
                            </div>
                        </div>
                        <div class="project-item">
                            <div class="project-header">
                                <div>
                                    <div class="project-title">Abuja Wind Project</div>
                                    <div class="project-subtitle">2.5 MW • Wind</div>
                                </div>
                                <div class="project-status warning">Pending</div>
                            </div>
                            <div class="project-metrics">
                                <div class="project-metric">
                                    <div class="metric-label">IRR</div>
                                    <div class="metric-value">14.5%</div>
                                </div>
                                <div class="project-metric">
                                    <div class="metric-label">ESG</div>
                                    <div class="metric-value">8.2</div>
                                </div>
                                <div class="project-metric">
                                    <div class="metric-label">Risk</div>
                                    <div class="metric-value">Medium</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Market Insights -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Market Insights</h3>
                        <a href="#blog" class="section-action" data-page="blog">
                            View All <i class="bi bi-chevron-right"></i>
                        </a>
                    </div>
                    <div class="card">
                        <div class="insight-item">
                            <div class="insight-title">Nigeria Renewable Energy Policy Update</div>
                            <div class="insight-date">December 15, 2024</div>
                            <div class="insight-summary">New incentives announced for solar projects above 2MW capacity, potentially increasing IRR by 1.5-2%.</div>
                        </div>
                        <div class="insight-item">
                            <div class="insight-title">Grid Stability Improvements in Lagos</div>
                            <div class="insight-date">December 10, 2024</div>
                            <div class="insight-summary">Recent infrastructure investments have reduced outage frequency by 35%, improving project viability.</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Calculator Page -->
            <div id="calculator-page" class="page">
                <div class="page-header">
                    <h2 class="page-title">IRR Calculator</h2>
                    <p class="page-subtitle">Simulate renewable energy investments</p>
                </div>
                
                <!-- Calculator Form -->
                <div class="card">
                    <div class="calculator-form">
                        <div class="form-group">
                            <label for="project-type" class="form-label">Project Type</label>
                            <select id="project-type" class="form-control">
                                <option value="solar">Solar</option>
                                <option value="wind">Wind</option>
                                <option value="hydro">Hydro</option>
                                <option value="biomass">Biomass</option>
                                <option value="geothermal">Geothermal</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="currency" class="form-label">Currency</label>
                            <select id="currency" class="form-control">
                                <option value="NGN">Nigerian Naira (₦)</option>
                                <option value="USD">US Dollar ($)</option>
                                <option value="EUR">Euro (€)</option>
                                <option value="GBP">British Pound (£)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="initial-investment" class="form-label">Initial Investment</label>
                            <input type="number" id="initial-investment" class="form-control" placeholder="e.g., 50000000" min="0">
                        </div>
                        <div class="form-group">
                            <label for="project-duration" class="form-label">Project Duration (Years)</label>
                            <input type="number" id="project-duration" class="form-control" placeholder="e.g., 25" min="1" max="50">
                        </div>
                        <div class="form-group">
                            <label for="annual-cashflow" class="form-label">Annual Cash Flow</label>
                            <input type="number" id="annual-cashflow" class="form-control" placeholder="e.g., 8000000" min="0">
                        </div>
                        <div class="form-group">
                            <label for="terminal-value" class="form-label">Terminal Value</label>
                            <input type="number" id="terminal-value" class="form-control" placeholder="e.g., 10000000" min="0">
                        </div>
                        <div class="form-group">
                            <label for="discount-rate" class="form-label">Discount Rate (%)</label>
                            <input type="number" id="discount-rate" class="form-control" placeholder="e.g., 10" min="0" max="100" value="10">
                        </div>
                        
                        <div class="calculation-preview">
                            <div class="preview-metric">
                                <span>Simple ROI</span>
                                <span class="text-primary">--</span>
                            </div>
                            <div class="preview-metric">
                                <span>Total Returns</span>
                                <span class="text-primary">--</span>
                            </div>
                            <div class="preview-metric">
                                <span>Estimated NPV</span>
                                <span class="text-primary">--</span>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary btn-block calculate-btn" onclick="calculateIRR()">
                            <i class="bi bi-calculator"></i>
                            Calculate IRR
                        </button>
                    </div>
                </div>
                
                <!-- Results -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Results</h3>
                    </div>
                    <div class="metrics-grid">
                        <div class="metric-card result-metric">
                            <div class="metric-value" id="irr-result">--</div>
                            <div class="metric-label">IRR</div>
                        </div>
                        <div class="metric-card result-metric">
                            <div class="metric-value" id="npv-result">--</div>
                            <div class="metric-label">NPV</div>
                        </div>
                        <div class="metric-card result-metric">
                            <div class="metric-value" id="payback-result">--</div>
                            <div class="metric-label">Payback Period</div>
                        </div>
                    </div>
                </div>
                
                <!-- Cash Flow Chart -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Cash Flow Projection</h3>
                    </div>
                    <div class="card">
                        <div id="cashflow-chart" class="chart-container chart-placeholder">
                            <div class="chart-placeholder-content">
                                <i class="bi bi-bar-chart"></i>
                                <p>Calculate IRR to see cash flow projection</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- IRR Distribution Chart -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">IRR Distribution</h3>
                    </div>
                    <div class="card">
                        <div class="chart-container">
                            <canvas id="irr-distribution-chart"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- Sensitivity Analysis Chart -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Sensitivity Analysis</h3>
                    </div>
                    <div class="card">
                        <div class="chart-container">
                            <canvas id="sensitivity-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Projects Page -->
            <div id="projects-page" class="page">
                <div class="page-header">
                    <h2 class="page-title">Projects</h2>
                    <p class="page-subtitle">Manage your investment portfolio</p>
                </div>
                
                <!-- Project List -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Your Projects</h3>
                        <button class="btn btn-sm btn-primary">
                            <i class="bi bi-plus"></i> Add New
                        </button>
                    </div>
                    <div class="project-list">
                        <div class="card project-card">
                            <div class="project-header">
                                <div>
                                    <div class="project-title">Lagos Solar Farm</div>
                                    <div class="project-subtitle">5.0 MW • Solar</div>
                                </div>
                                <div class="project-status success">Active</div>
                            </div>
                            <div class="project-metrics">
                                <div class="project-metric">
                                    <div class="metric-label">IRR</div>
                                    <div class="metric-value">16.8%</div>
                                </div>
                                <div class="project-metric">
                                    <div class="metric-label">ESG</div>
                                    <div class="metric-value">8.9</div>
                                </div>
                                <div class="project-metric">
                                    <div class="metric-label">Risk</div>
                                    <div class="metric-value">Low</div>
                                </div>
                            </div>
                            <div class="project-actions">
                                <button class="btn btn-sm btn-outline">
                                    <i class="bi bi-eye"></i> View
                                </button>
                                <button class="btn btn-sm btn-outline">
                                    <i class="bi bi-pencil"></i> Edit
                                </button>
                            </div>
                        </div>
                        <div class="card project-card">
                            <div class="project-header">
                                <div>
                                    <div class="project-title">Abuja Wind Project</div>
                                    <div class="project-subtitle">2.5 MW • Wind</div>
                                </div>
                                <div class="project-status warning">Pending</div>
                            </div>
                            <div class="project-metrics">
                                <div class="project-metric">
                                    <div class="metric-label">IRR</div>
                                    <div class="metric-value">14.5%</div>
                                </div>
                                <div class="project-metric">
                                    <div class="metric-label">ESG</div>
                                    <div class="metric-value">8.2</div>
                                </div>
                                <div class="project-metric">
                                    <div class="metric-label">Risk</div>
                                    <div class="metric-value">Medium</div>
                                </div>
                            </div>
                            <div class="project-actions">
                                <button class="btn btn-sm btn-outline">
                                    <i class="bi bi-eye"></i> View
                                </button>
                                <button class="btn btn-sm btn-outline">
                                    <i class="bi bi-pencil"></i> Edit
                                </button>
                            </div>
                        </div>
                        <div class="card project-card">
                            <div class="project-header">
                                <div>
                                    <div class="project-title">Kano Solar Array</div>
                                    <div class="project-subtitle">3.2 MW • Solar</div>
                                </div>
                                <div class="project-status success">Completed</div>
                            </div>
                            <div class="project-metrics">
                                <div class="project-metric">
                                    <div class="metric-label">IRR</div>
                                    <div class="metric-value">15.2%</div>
                                </div>
                                <div class="project-metric">
                                    <div class="metric-label">ESG</div>
                                    <div class="metric-value">8.8</div>
                                </div>
                                <div class="project-metric">
                                    <div class="metric-label">Risk</div>
                                    <div class="metric-value">Low</div>
                                </div>
                            </div>
                            <div class="project-actions">
                                <button class="btn btn-sm btn-outline">
                                    <i class="bi bi-eye"></i> View
                                </button>
                                <button class="btn btn-sm btn-outline">
                                    <i class="bi bi-pencil"></i> Edit
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ESG Page -->
            <div id="esg-page" class="page">
                <div class="page-header">
                    <h2 class="page-title">ESG Scoring</h2>
                    <p class="page-subtitle">Comprehensive sustainability assessment</p>
                </div>
                
                <div class="esg-project-type-selector">
                    <label for="esg-project-type">Select Project Type:</label>
                    <select id="esg-project-type" class="form-control">
                        <option value="solar">Solar Energy</option>
                        <option value="wind">Wind Energy</option>
                        <option value="hydro">Hydroelectric</option>
                        <option value="biomass">Biomass</option>
                        <option value="geothermal">Geothermal</option>
                    </select>
                </div>
                
                <!-- ESG Scores -->
                <div class="esg-score-cards">
                    <div class="esg-score-card environmental">
                        <div class="esg-score-value" id="environmental-score">8.7</div>
                        <div class="esg-score-label">Environmental</div>
                    </div>
                    <div class="esg-score-card social">
                        <div class="esg-score-value" id="social-score">7.9</div>
                        <div class="esg-score-label">Social</div>
                    </div>
                    <div class="esg-score-card governance">
                        <div class="esg-score-value" id="governance-score">8.4</div>
                        <div class="esg-score-label">Governance</div>
                    </div>
                    <div class="esg-score-card overall">
                        <div class="esg-score-value" id="overall-esg-score">8.4</div>
                        <div class="esg-score-label">Overall Score</div>
                    </div>
                </div>
                
                <!-- ESG Trend Chart -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">ESG Score Trend</h3>
                    </div>
                    <div class="esg-chart-card">
                        <div class="esg-chart-container esg-trend-chart-container">
                            <canvas id="esg-trend-chart"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- ESG Breakdown Chart -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">ESG Breakdown</h3>
                    </div>
                    <div class="esg-chart-card">
                        <div class="esg-chart-container esg-breakdown-chart-container">
                            <canvas id="esg-breakdown-chart"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- Peer Comparison Chart -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Peer Comparison</h3>
                    </div>
                    <div class="esg-chart-card">
                        <div class="esg-chart-container peer-comparison-chart-container">
                            <canvas id="peer-comparison-chart"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- ESG Factor Impact Chart -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">ESG Factor Impact</h3>
                    </div>
                    <div class="esg-chart-card">
                        <div class="esg-chart-container esg-factor-impact-chart-container">
                            <canvas id="esg-factor-impact-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Analytics Page -->
            <div id="analytics-page" class="page">
                <div class="page-header">
                    <h2 class="page-title">Analytics</h2>
                    <p class="page-subtitle">Comprehensive investment intelligence</p>
                </div>
                
                <div class="analytics-container">
                    <!-- Portfolio Analysis Section -->
                    <div class="analytics-section">
                        <h3 class="analytics-section-title">Portfolio Analysis</h3>
                        
                        <div class="analytics-metrics">
                            <div class="analytics-metric-card">
                                <div class="analytics-metric-value" id="total-capacity">16.7 MW</div>
                                <div class="analytics-metric-label">Total Capacity</div>
                            </div>
                            <div class="analytics-metric-card">
                                <div class="analytics-metric-value" id="weighted-irr">15.2%</div>
                                <div class="analytics-metric-label">Weighted IRR</div>
                            </div>
                            <div class="analytics-metric-card">
                                <div class="analytics-metric-value" id="project-count">5</div>
                                <div class="analytics-metric-label">Projects</div>
                            </div>
                            <div class="analytics-metric-card">
                                <div class="analytics-metric-value" id="low-risk-percentage">60%</div>
                                <div class="analytics-metric-label">Low Risk</div>
                            </div>
                        </div>
                        
                        <div class="analytics-chart-card">
                            <h4 class="analytics-chart-title">Portfolio Distribution</h4>
                            <div class="analytics-chart-container portfolio-distribution-chart-container">
                                <canvas id="portfolio-distribution-chart"></canvas>
                            </div>
                        </div>
                        
                        <div class="analytics-chart-card">
                            <h4 class="analytics-chart-title">Performance Trend</h4>
                            <div class="analytics-chart-container portfolio-performance-chart-container">
                                <canvas id="portfolio-performance-chart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Risk Analysis Section -->
                    <div class="analytics-section">
                        <h3 class="analytics-section-title">Risk Analysis</h3>
                        
                        <div class="analytics-metrics">
                            <div class="analytics-metric-card">
                                <div class="analytics-metric-value" id="avg-risk-score">7.8</div>
                                <div class="analytics-metric-label">Avg Risk Score</div>
                            </div>
                            <div class="analytics-metric-card">
                                <div class="analytics-metric-value" id="high-impact-factors">3</div>
                                <div class="analytics-metric-label">High Impact Factors</div>
                            </div>
                        </div>
                        
                        <div class="analytics-chart-card">
                            <h4 class="analytics-chart-title">Risk Distribution</h4>
                            <div class="analytics-chart-container risk-distribution-chart-container">
                                <canvas id="risk-distribution-chart"></canvas>
                            </div>
                        </div>
                        
                        <div class="analytics-chart-card">
                            <h4 class="analytics-chart-title">Project Risk Matrix</h4>
                            <div class="analytics-chart-container risk-matrix-chart-container">
                                <!-- Risk matrix will be rendered here -->
                            </div>
                        </div>
                        
                        <div class="analytics-chart-card">
                            <h4 class="analytics-chart-title">Risk Trend</h4>
                            <div class="analytics-chart-container risk-trend-chart-container">
                                <canvas id="risk-trend-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- XGBoost Model Page -->
            <div id="xgboost-page" class="page">
                <div class="page-header">
                    <h2 class="page-title">XGBoost Model</h2>
                    <p class="page-subtitle">Advanced predictive analytics</p>
                </div>
                
                <div class="card mb-3">
                    <div id="model-status">
                        <div class="model-status-badge success">
                            <i class="bi bi-check-circle"></i>
                            <span>Model Loaded</span>
                        </div>
                    </div>
                    
                    <div class="grid-3">
                        <div class="model-stat">
                            <div class="model-stat-value" id="model-auc">92%</div>
                            <div class="model-stat-label">AUC Score</div>
                        </div>
                        <div class="model-stat">
                            <div class="model-stat-value" id="model-accuracy">87%</div>
                            <div class="model-stat-label">Accuracy</div>
                        </div>
                        <div class="model-stat">
                            <div class="model-stat-value" id="model-features">14</div>
                            <div class="model-stat-label">Key Features</div>
                        </div>
                    </div>
                </div>
                
                <!-- Model Performance Chart -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Model Performance</h3>
                    </div>
                    <div class="card" id="model-performance-chart">
                        <div class="chart-container">
                            <canvas id="roc-curve-chart"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- Feature Importance -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Feature Importance</h3>
                    </div>
                    <div class="card">
                        <div class="form-group mb-3">
                            <label for="project-type-xgboost" class="form-label">Project Type</label>
                            <select id="project-type-xgboost" class="form-control">
                                <option value="solar">Solar</option>
                                <option value="wind">Wind</option>
                                <option value="hydro">Hydro</option>
                                <option value="biomass">Biomass</option>
                                <option value="geothermal">Geothermal</option>
                            </select>
                        </div>
                        
                        <div class="feature-importance">
                            <!-- Feature importance bars will be rendered here -->
                        </div>
                    </div>
                </div>
                
                <!-- Project Risk Matrix -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Project Risk Matrix</h3>
                    </div>
                    <div class="card">
                        <div class="risk-matrix-chart-container">
                            <div class="risk-matrix-title">Project Risk Matrix</div>
                            <div class="risk-matrix-grid">
                                <div class="risk-matrix-row header-row">
                                    <div class="risk-matrix-cell corner-cell"></div>
                                    <div class="risk-matrix-cell header-cell">Grid</div>
                                    <div class="risk-matrix-cell header-cell">Regulatory</div>
                                    <div class="risk-matrix-cell header-cell">Currency</div>
                                    <div class="risk-matrix-cell header-cell">Political</div>
                                    <div class="risk-matrix-cell header-cell">Resource</div>
                                </div>
                                <div class="risk-matrix-row">
                                    <div class="risk-matrix-cell project-cell">Lagos Solar</div>
                                    <div class="risk-matrix-cell risk-cell low-risk">Low</div>
                                    <div class="risk-matrix-cell risk-cell medium-risk">Med</div>
                                    <div class="risk-matrix-cell risk-cell low-risk">Low</div>
                                    <div class="risk-matrix-cell risk-cell low-risk">Low</div>
                                    <div class="risk-matrix-cell risk-cell low-risk">Low</div>
                                </div>
                                <div class="risk-matrix-row">
                                    <div class="risk-matrix-cell project-cell">Abuja Wind</div>
                                    <div class="risk-matrix-cell risk-cell medium-risk">Med</div>
                                    <div class="risk-matrix-cell risk-cell medium-risk">Med</div>
                                    <div class="risk-matrix-cell risk-cell medium-risk">Med</div>
                                    <div class="risk-matrix-cell risk-cell low-risk">Low</div>
                                    <div class="risk-matrix-cell risk-cell low-risk">Low</div>
                                </div>
                                <div class="risk-matrix-row">
                                    <div class="risk-matrix-cell project-cell">Kano Solar</div>
                                    <div class="risk-matrix-cell risk-cell low-risk">Low</div>
                                    <div class="risk-matrix-cell risk-cell medium-risk">Med</div>
                                    <div class="risk-matrix-cell risk-cell medium-risk">Med</div>
                                    <div class="risk-matrix-cell risk-cell medium-risk">Med</div>
                                    <div class="risk-matrix-cell risk-cell low-risk">Low</div>
                                </div>
                                <div class="risk-matrix-row">
                                    <div class="risk-matrix-cell project-cell">PH Hydro</div>
                                    <div class="risk-matrix-cell risk-cell medium-risk">Med</div>
                                    <div class="risk-matrix-cell risk-cell high-risk">High</div>
                                    <div class="risk-matrix-cell risk-cell medium-risk">Med</div>
                                    <div class="risk-matrix-cell risk-cell medium-risk">Med</div>
                                    <div class="risk-matrix-cell risk-cell low-risk">Low</div>
                                </div>
                                <div class="risk-matrix-row">
                                    <div class="risk-matrix-cell project-cell">Ibadan Solar</div>
                                    <div class="risk-matrix-cell risk-cell low-risk">Low</div>
                                    <div class="risk-matrix-cell risk-cell low-risk">Low</div>
                                    <div class="risk-matrix-cell risk-cell medium-risk">Med</div>
                                    <div class="risk-matrix-cell risk-cell low-risk">Low</div>
                                    <div class="risk-matrix-cell risk-cell low-risk">Low</div>
                                </div>
                            </div>
                            <div class="risk-matrix-legend">
                                <div class="legend-item">
                                    <span class="legend-color low-risk"></span>
                                    <span>Low Risk</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color medium-risk"></span>
                                    <span>Medium Risk</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color high-risk"></span>
                                    <span>High Risk</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Run Prediction -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Run Prediction</h3>
                    </div>
                    <div class="card">
                        <div class="form-group">
                            <label for="project-location" class="form-label">Location</label>
                            <select id="project-location" class="form-control">
                                <option value="lagos">Lagos</option>
                                <option value="abuja">Abuja</option>
                                <option value="kano">Kano</option>
                                <option value="port_harcourt">Port Harcourt</option>
                                <option value="ibadan">Ibadan</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="grid-stability" class="form-label">Grid Stability</label>
                            <select id="grid-stability" class="form-control">
                                <option value="high">High</option>
                                <option value="medium" selected>Medium</option>
                                <option value="low">Low</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="community-engagement" class="form-label">Community Engagement</label>
                            <select id="community-engagement" class="form-control">
                                <option value="extensive">Extensive</option>
                                <option value="moderate" selected>Moderate</option>
                                <option value="minimal">Minimal</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="project-size" class="form-label">Project Size (MW)</label>
                            <input type="number" id="project-size" class="form-control" value="5" min="0.1" step="0.1">
                        </div>
                        
                        <button id="predict-btn" class="btn btn-primary btn-block">
                            <i class="bi bi-cpu"></i>
                            Run AI Prediction
                        </button>
                    </div>
                </div>
                
                <!-- Prediction Result -->
                <div id="prediction-result" class="section" style="display: none;">
                    <div class="section-header">
                        <h3 class="section-title">Prediction Result</h3>
                    </div>
                    <div class="card">
                        <div class="prediction-metrics">
                            <div class="prediction-metric">
                                <div class="prediction-icon">
                                    <i class="bi bi-graph-up"></i>
                                </div>
                                <div class="prediction-value" id="predicted-irr">16.5%</div>
                                <div class="prediction-label">Predicted IRR</div>
                            </div>
                            <div class="prediction-metric">
                                <div class="prediction-icon">
                                    <i class="bi bi-check-circle"></i>
                                </div>
                                <div class="prediction-value" id="success-probability">92%</div>
                                <div class="prediction-label">Success Probability</div>
                            </div>
                            <div class="prediction-metric">
                                <div class="prediction-icon">
                                    <i class="bi bi-shield-check"></i>
                                </div>
                                <div class="prediction-value" id="risk-level">Low Risk</div>
                                <div class="prediction-label">Risk Level</div>
                            </div>
                            <div class="prediction-metric">
                                <div class="prediction-icon">
                                    <i class="bi bi-star"></i>
                                </div>
                                <div class="prediction-value" id="confidence-score">High</div>
                                <div class="prediction-label">Confidence Score</div>
                            </div>
                        </div>
                        
                        <div class="key-factors">
                            <h4>Key Factors</h4>
                            <div id="key-factors-list">
                                <div class="factor-item">
                                    <i class="bi bi-arrow-right-circle"></i>
                                    <span>Grid stability is a critical factor for project success</span>
                                </div>
                                <div class="factor-item">
                                    <i class="bi bi-arrow-right-circle"></i>
                                    <span>Community engagement directly correlates with +2.3% IRR</span>
                                </div>
                                <div class="factor-item">
                                    <i class="bi bi-arrow-right-circle"></i>
                                    <span>Regulatory navigation expertise reduces delays by 35%</span>
                                </div>
                                <div class="factor-item">
                                    <i class="bi bi-arrow-right-circle"></i>
                                    <span>Equipment quality is optimized for local conditions</span>
                                </div>
                                <div class="factor-item">
                                    <i class="bi bi-arrow-right-circle"></i>
                                    <span>Solar irradiation levels are favorable in this region</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Blog Page -->
            <div id="blog-page" class="page">
                <div class="page-header">
                    <h2 class="page-title">Blog</h2>
                    <p class="page-subtitle">Insights & Analysis</p>
                </div>
                
                <!-- Featured Post -->
                <div class="featured-post-mobile">
                    <div class="post-image">
                        <img src="https://images.pexels.com/photos/356036/pexels-photo-356036.jpeg" alt="XGBoost Model Development" class="img-fluid">
                        <div class="post-category">AI & Technology</div>
                    </div>
                    <div class="post-content">
                        <div class="post-meta">
                            <span><i class="bi bi-calendar"></i> Dec 18, 2024</span>
                            <span><i class="bi bi-clock"></i> 8 min read</span>
                        </div>
                        <h3>Building Our XGBoost Model: How We're Predicting Solar Project Success in Nigeria</h3>
                        <p>Our XGBoost model achieves 87% accuracy in predicting solar project success in Nigeria's complex market. Learn how we built it and the surprising insights we discovered.</p>
                        <div class="post-actions">
                            <button class="btn btn-primary" onclick="mobileBlog.readPost('post-xgboost')">
                                <i class="bi bi-book-open me-2"></i>Read Article
                            </button>
                            <button class="btn btn-outline-primary" onclick="mobileBlog.shareOnLinkedIn('post-xgboost')">
                                <i class="bi bi-linkedin me-2"></i>Share
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Posts -->
                <div class="section">
                    <div class="section-header">
                        <h3 class="section-title">Recent Posts</h3>
                    </div>
                    <div class="blog-posts-mobile">
                        <div class="blog-post-mobile" data-post-id="post-1">
                            <div class="post-image-small">
                                <img src="https://images.pexels.com/photos/590022/pexels-photo-590022.jpeg" alt="AI Revolution in Renewable Energy" class="img-fluid">
                                <div class="post-category-small">AI & Technology</div>
                            </div>
                            <div class="post-content-small">
                                <div class="post-meta-small">
                                    <span><i class="bi bi-calendar"></i> Dec 15, 2024</span>
                                    <span><i class="bi bi-clock"></i> 5 min</span>
                                </div>
                                <h4>The AI Revolution in Renewable Energy Investment</h4>
                                <p>Discover how AI is transforming renewable energy investment decisions and why traditional models are failing.</p>
                                <div class="post-actions-small">
                                    <button class="btn btn-primary btn-sm" onclick="mobileBlog.readPost('post-1')">
                                        Read More
                                    </button>
                                    <button class="btn btn-outline-primary btn-sm" onclick="mobileBlog.shareOnLinkedIn('post-1')">
                                        <i class="bi bi-linkedin"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="blog-post-mobile" data-post-id="post-2">
                            <div class="post-image-small">
                                <img src="https://images.pexels.com/photos/3184338/pexels-photo-3184338.jpeg" alt="ESG Scoring Revolution" class="img-fluid">
                                <div class="post-category-small">ESG & Sustainability</div>
                            </div>
                            <div class="post-content-small">
                                <div class="post-meta-small">
                                    <span><i class="bi bi-calendar"></i> Dec 12, 2024</span>
                                    <span><i class="bi bi-clock"></i> 4 min</span>
                                </div>
                                <h4>ESG Scoring Revolution: Making Sustainability Measurable</h4>
                                <p>How AI is revolutionizing ESG scoring and making environmental impact quantifiable.</p>
                                <div class="post-actions-small">
                                    <button class="btn btn-primary btn-sm" onclick="mobileBlog.readPost('post-2')">
                                        Read More
                                    </button>
                                    <button class="btn btn-outline-primary btn-sm" onclick="mobileBlog.shareOnLinkedIn('post-2')">
                                        <i class="bi bi-linkedin"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="blog-post-mobile" data-post-id="post-3">
                            <div class="post-image-small">
                                <img src="https://images.pexels.com/photos/7413915/pexels-photo-7413915.jpeg" alt="Emerging Markets Opportunity" class="img-fluid">
                                <div class="post-category-small">Emerging Markets</div>
                            </div>
                            <div class="post-content-small">
                                <div class="post-meta-small">
                                    <span><i class="bi bi-calendar"></i> Dec 10, 2024</span>
                                    <span><i class="bi bi-clock"></i> 6 min</span>
                                </div>
                                <h4>The $2.8 Trillion Opportunity in Emerging Markets</h4>
                                <p>Why emerging markets represent the future of renewable energy investment.</p>
                                <div class="post-actions-small">
                                    <button class="btn btn-primary btn-sm" onclick="mobileBlog.readPost('post-3')">
                                        Read More
                                    </button>
                                    <button class="btn btn-outline-primary btn-sm" onclick="mobileBlog.shareOnLinkedIn('post-3')">
                                        <i class="bi bi-linkedin"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Newsletter -->
                <div class="newsletter-mobile">
                    <h3>Subscribe to Our Insights</h3>
                    <p>Get weekly updates on renewable energy investment trends and AI technology</p>
                    <div class="newsletter-form">
                        <input type="email" id="newsletter-email" class="form-control" placeholder="Your email address">
                        <button class="btn" onclick="mobileBlog.subscribeNewsletter()">
                            <i class="bi bi-send"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Legal Page -->
            <div id="legal-page" class="page">
                <div class="page-header">
                    <h2 class="page-title">Legal</h2>
                    <p class="page-subtitle">Terms, Privacy & Security</p>
                </div>
                
                <div class="legal-links">
                    <a href="terms.html" class="card legal-link-card">
                        <div class="legal-link-icon">
                            <i class="bi bi-file-text"></i>
                        </div>
                        <div class="legal-link-content">
                            <div class="legal-link-title">Terms of Service</div>
                            <div class="legal-link-description">User agreement and conditions</div>
                            <div class="legal-link-meta">Updated June 2025</div>
                        </div>
                        <div class="legal-link-arrow">
                            <i class="bi bi-chevron-right"></i>
                        </div>
                    </a>
                    
                    <a href="privacy.html" class="card legal-link-card">
                        <div class="legal-link-icon">
                            <i class="bi bi-shield-lock"></i>
                        </div>
                        <div class="legal-link-content">
                            <div class="legal-link-title">Privacy Policy</div>
                            <div class="legal-link-description">How we handle your data</div>
                            <div class="legal-link-meta">Updated June 2025</div>
                        </div>
                        <div class="legal-link-arrow">
                            <i class="bi bi-chevron-right"></i>
                        </div>
                    </a>
                    
                    <a href="security.html" class="card legal-link-card">
                        <div class="legal-link-icon">
                            <i class="bi bi-shield-check"></i>
                        </div>
                        <div class="legal-link-content">
                            <div class="legal-link-title">Security Policy</div>
                            <div class="legal-link-description">How we protect your information</div>
                            <div class="legal-link-meta">Updated June 2025</div>
                        </div>
                        <div class="legal-link-arrow">
                            <i class="bi bi-chevron-right"></i>
                        </div>
                    </a>
                </div>
            </div>
        </main>
        
        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-page="dashboard">
                <i class="bi bi-speedometer2"></i>
                <span>Dashboard</span>
            </button>
            <button class="nav-btn" data-page="calculator">
                <i class="bi bi-calculator"></i>
                <span>Calculate</span>
            </button>
            <button class="nav-btn" data-page="projects">
                <i class="bi bi-folder"></i>
                <span>Projects</span>
            </button>
            <button class="nav-btn" data-page="esg">
                <i class="bi bi-leaf"></i>
                <span>ESG</span>
            </button>
            <button class="nav-btn" data-page="analytics">
                <i class="bi bi-graph-up"></i>
                <span>Analytics</span>
            </button>
        </nav>
    </div>
    
    <!-- Scripts -->
    <script src="scripts/app.js"></script>
    <script src="scripts/calculator.js"></script>
    <script src="scripts/charts.js"></script>
    <script src="scripts/blog-integration.js"></script>
    <script src="scripts/cross-platform-navigation.js"></script>
    <script src="scripts/dashboard.js"></script>
    <script src="scripts/esg-dashboard.js"></script>
    <script src="scripts/xgboost-model.js"></script>
    <script src="scripts/analytics-dashboard.js"></script>
    
    <script>
        // Initialize charts when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            // IRR Distribution Chart
            const irrDistributionCtx = document.getElementById('irr-distribution-chart');
            if (irrDistributionCtx) {
                new Chart(irrDistributionCtx, {
                    type: 'bar',
                    data: {
                        labels: ['<10%', '10-12%', '12-14%', '14-16%', '16-18%', '18-20%', '>20%'],
                        datasets: [{
                            label: 'Frequency',
                            data: [500, 1500, 2500, 3000, 1800, 500, 200],
                            backgroundColor: '#00bfa5',
                            borderColor: '#004d40',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            title: {
                                display: true,
                                text: 'IRR Distribution (10,000 Simulations)',
                                color: '#004d40',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 77, 64, 0.8)',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#00bfa5',
                                borderWidth: 1
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Number of Simulations',
                                    color: '#004d40'
                                },
                                grid: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                }
                            },
                            x: {
                                title: {
                                    display: true,
                                    text: 'IRR Range',
                                    color: '#004d40'
                                },
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }
            
            // Sensitivity Analysis Chart
            const sensitivityCtx = document.getElementById('sensitivity-chart');
            if (sensitivityCtx) {
                new Chart(sensitivityCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Energy Price', 'Construction Cost', 'OpEx', 'Discount Rate', 'Completion Time'],
                        datasets: [{
                            label: 'Impact on IRR (%)',
                            data: [3.5, -2.8, -1.5, 2.0, -1.0],
                            backgroundColor: [
                                '#10B981', // Green for positive impact
                                '#EF4444', // Red for negative impact
                                '#EF4444',
                                '#10B981',
                                '#EF4444'
                            ],
                            borderColor: [
                                '#059669',
                                '#DC2626',
                                '#DC2626',
                                '#059669',
                                '#DC2626'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            title: {
                                display: true,
                                text: 'Sensitivity Analysis - Impact on IRR',
                                color: '#004d40',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 77, 64, 0.8)',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#00bfa5',
                                borderWidth: 1
                            }
                        },
                        scales: {
                            x: {
                                beginAtZero: false,
                                title: {
                                    display: true,
                                    text: 'Impact on IRR (%)',
                                    color: '#004d40'
                                },
                                grid: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                }
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: 'Input Factor',
                                    color: '#004d40'
                                },
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }
            
            // ESG Trend Chart
            const esgTrendCtx = document.getElementById('esg-trend-chart');
            if (esgTrendCtx) {
                new Chart(esgTrendCtx, {
                    type: 'line',
                    data: {
                        labels: ['Q1 2024', 'Q2 2024', 'Q3 2024', 'Q4 2024', 'Q1 2025'],
                        datasets: [
                            {
                                label: 'Your Project',
                                data: [7.8, 8.1, 8.3, 8.4, 8.4],
                                borderColor: '#00bfa5',
                                backgroundColor: 'rgba(0, 191, 165, 0.1)',
                                borderWidth: 3,
                                pointBackgroundColor: '#00bfa5',
                                pointBorderColor: '#fff',
                                pointRadius: 5,
                                pointHoverRadius: 7,
                                fill: true,
                                tension: 0.3
                            },
                            {
                                label: 'Industry Average',
                                data: [7.2, 7.3, 7.4, 7.5, 7.6],
                                borderColor: '#9e9e9e',
                                backgroundColor: 'rgba(158, 158, 158, 0.1)',
                                borderWidth: 2,
                                borderDash: [5, 5],
                                pointBackgroundColor: '#9e9e9e',
                                pointBorderColor: '#fff',
                                pointRadius: 4,
                                pointHoverRadius: 6,
                                fill: true,
                                tension: 0.3
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15,
                                    font: {
                                        size: 11
                                    }
                                }
                            },
                            title: {
                                display: true,
                                text: 'ESG Score Trend Over Time',
                                color: '#004d40',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 77, 64, 0.8)',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#00bfa5',
                                borderWidth: 1,
                                callbacks: {
                                    label: function(context) {
                                        const label = context.dataset.label || '';
                                        const value = context.raw;
                                        return `${label}: ${value.toFixed(1)}/10`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                min: 5,
                                max: 10,
                                title: {
                                    display: true,
                                    text: 'ESG Score (0-10)',
                                    color: '#004d40',
                                    font: {
                                        weight: 'bold'
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                },
                                ticks: {
                                    stepSize: 1,
                                    color: '#004d40'
                                }
                            },
                            x: {
                                grid: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                },
                                ticks: {
                                    color: '#004d40'
                                }
                            }
                        }
                    }
                });
            }
            
            // ESG Breakdown Chart
            const esgBreakdownCtx = document.getElementById('esg-breakdown-chart');
            if (esgBreakdownCtx) {
                new Chart(esgBreakdownCtx, {
                    type: 'radar',
                    data: {
                        labels: [
                            'Carbon Emissions', 'Resource Usage', 'Waste Management', 'Biodiversity',
                            'Community Relations', 'Labor Practices', 'Human Rights', 'Health & Safety',
                            'Board Structure', 'Business Ethics', 'Transparency', 'Risk Management'
                        ],
                        datasets: [
                            {
                                label: 'Your Project',
                                data: [9.2, 8.5, 8.9, 8.3, 8.7, 7.5, 8.2, 7.4, 8.6, 8.2, 8.5, 8.3],
                                backgroundColor: 'rgba(0, 191, 165, 0.2)',
                                borderColor: '#00bfa5',
                                borderWidth: 2,
                                pointBackgroundColor: '#00bfa5',
                                pointBorderColor: '#ffffff',
                                pointHoverBackgroundColor: '#ffffff',
                                pointHoverBorderColor: '#00bfa5',
                                pointRadius: 4,
                                pointHoverRadius: 6
                            },
                            {
                                label: 'Industry Benchmark',
                                data: [8.7, 8.0, 8.4, 7.8, 8.2, 7.0, 7.7, 6.9, 8.1, 7.7, 8.0, 7.8],
                                backgroundColor: 'rgba(158, 158, 158, 0.2)',
                                borderColor: '#9e9e9e',
                                borderWidth: 2,
                                borderDash: [5, 5],
                                pointBackgroundColor: '#9e9e9e',
                                pointBorderColor: '#ffffff',
                                pointHoverBackgroundColor: '#ffffff',
                                pointHoverBorderColor: '#9e9e9e',
                                pointRadius: 3,
                                pointHoverRadius: 5
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15,
                                    font: {
                                        size: 11
                                    }
                                }
                            },
                            title: {
                                display: true,
                                text: 'ESG Component Breakdown',
                                color: '#004d40',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 77, 64, 0.8)',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#00bfa5',
                                borderWidth: 1,
                                callbacks: {
                                    label: function(context) {
                                        const label = context.dataset.label || '';
                                        const value = context.raw;
                                        return `${label}: ${value.toFixed(1)}/10`;
                                    }
                                }
                            }
                        },
                        scales: {
                            r: {
                                min: 5,
                                max: 10,
                                ticks: {
                                    stepSize: 1,
                                    backdropColor: 'transparent',
                                    color: '#004d40'
                                },
                                grid: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                },
                                angleLines: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                },
                                pointLabels: {
                                    color: '#004d40',
                                    font: {
                                        size: 10
                                    }
                                }
                            }
                        }
                    }
                });
            }
            
            // Peer Comparison Chart
            const peerComparisonCtx = document.getElementById('peer-comparison-chart');
            if (peerComparisonCtx) {
                new Chart(peerComparisonCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Your Project', 'Peer A', 'Peer B', 'Peer C', 'Peer D'],
                        datasets: [{
                            label: 'ESG Score',
                            data: [8.4, 7.8, 8.1, 7.2, 6.9],
                            backgroundColor: [
                                '#00bfa5', // Your project
                                '#9e9e9e', // Peers
                                '#9e9e9e',
                                '#9e9e9e',
                                '#9e9e9e'
                            ],
                            borderColor: [
                                '#004d40',
                                '#757575',
                                '#757575',
                                '#757575',
                                '#757575'
                            ],
                            borderWidth: 1,
                            borderRadius: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        indexAxis: 'y',
                        plugins: {
                            legend: {
                                display: false
                            },
                            title: {
                                display: true,
                                text: 'ESG Score Peer Comparison',
                                color: '#004d40',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 77, 64, 0.8)',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#00bfa5',
                                borderWidth: 1,
                                callbacks: {
                                    label: function(context) {
                                        const value = context.raw;
                                        return `ESG Score: ${value.toFixed(1)}/10`;
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                min: 5,
                                max: 10,
                                title: {
                                    display: true,
                                    text: 'ESG Score (0-10)',
                                    color: '#004d40',
                                    font: {
                                        weight: 'bold'
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                },
                                ticks: {
                                    stepSize: 1,
                                    color: '#004d40'
                                }
                            },
                            y: {
                                grid: {
                                    display: false
                                },
                                ticks: {
                                    color: '#004d40',
                                    font: {
                                        weight: (value) => {
                                            return value === 0 ? 'bold' : 'normal';
                                        }
                                    }
                                }
                            }
                        }
                    }
                });
            }
            
            // ESG Factor Impact Chart
            const esgFactorImpactCtx = document.getElementById('esg-factor-impact-chart');
            if (esgFactorImpactCtx) {
                new Chart(esgFactorImpactCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Carbon Reduction', 'Community Programs', 'Governance Structure', 'Transparency', 'Resource Efficiency'],
                        datasets: [
                            {
                                label: 'Your Project',
                                data: [3.2, 2.8, 2.5, 2.3, 2.1],
                                backgroundColor: function(context) {
                                    const value = context.raw;
                                    const alpha = 0.7 + (value / 5) * 0.3; // Higher values are more opaque
                                    return `rgba(0, 191, 165, ${alpha})`;
                                },
                                borderColor: '#004d40',
                                borderWidth: 1,
                                borderRadius: 4
                            },
                            {
                                label: 'Industry Average',
                                data: [2.1, 1.8, 2.2, 1.9, 1.7],
                                backgroundColor: 'rgba(158, 158, 158, 0.5)',
                                borderColor: '#757575',
                                borderWidth: 1,
                                borderRadius: 4
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15,
                                    font: {
                                        size: 11
                                    }
                                }
                            },
                            title: {
                                display: true,
                                text: 'ESG Factor Impact Analysis',
                                color: '#004d40',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 77, 64, 0.8)',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#00bfa5',
                                borderWidth: 1,
                                callbacks: {
                                    label: function(context) {
                                        const label = context.dataset.label || '';
                                        const value = context.raw;
                                        return `${label}: ${value.toFixed(1)} impact points`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Impact on ESG Score',
                                    color: '#004d40',
                                    font: {
                                        weight: 'bold'
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                },
                                ticks: {
                                    color: '#004d40'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                },
                                ticks: {
                                    color: '#004d40',
                                    maxRotation: 45,
                                    minRotation: 45
                                }
                            }
                        }
                    }
                });
            }
            
            // Portfolio Distribution Chart
            const portfolioDistributionCtx = document.getElementById('portfolio-distribution-chart');
            if (portfolioDistributionCtx) {
                new Chart(portfolioDistributionCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Solar', 'Wind', 'Hydro', 'Biomass', 'Geothermal'],
                        datasets: [{
                            data: [45, 30, 15, 7, 3],
                            backgroundColor: ['#F59E0B', '#10B981', '#3B82F6', '#8B5CF6', '#EC4899'],
                            borderColor: '#ffffff',
                            borderWidth: 2,
                            hoverOffset: 15
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '65%',
                        plugins: {
                            legend: {
                                position: 'right',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15,
                                    font: {
                                        size: 11
                                    }
                                }
                            },
                            title: {
                                display: true,
                                text: 'Portfolio Distribution by Project Type',
                                color: '#004d40',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 77, 64, 0.8)',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#00bfa5',
                                borderWidth: 1,
                                callbacks: {
                                    label: function(context) {
                                        const label = context.label || '';
                                        const value = context.raw;
                                        const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                        const percentage = ((value / total) * 100).toFixed(1);
                                        return `${label}: ${percentage}% (${value}MW)`;
                                    }
                                }
                            }
                        },
                        animation: {
                            animateScale: true,
                            animateRotate: true
                        }
                    }
                });
            }
            
            // Portfolio Performance Chart
            const portfolioPerformanceCtx = document.getElementById('portfolio-performance-chart');
            if (portfolioPerformanceCtx) {
                new Chart(portfolioPerformanceCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                        datasets: [
                            {
                                label: 'Actual IRR',
                                data: [12.5, 13.2, 14.1, 13.8, 14.5, 15.2, 14.8, 15.1, 14.9, 15.3, 14.7, 15.0],
                                borderColor: '#00bfa5',
                                backgroundColor: 'rgba(0, 191, 165, 0.1)',
                                borderWidth: 3,
                                pointBackgroundColor: '#00bfa5',
                                pointBorderColor: '#fff',
                                pointRadius: 4,
                                pointHoverRadius: 6,
                                fill: true,
                                tension: 0.3
                            },
                            {
                                label: 'Target IRR',
                                data: [12.0, 12.0, 12.5, 12.5, 13.0, 13.0, 13.5, 13.5, 14.0, 14.0, 14.5, 14.5],
                                borderColor: '#F59E0B',
                                backgroundColor: 'rgba(245, 158, 11, 0.1)',
                                borderWidth: 2,
                                borderDash: [5, 5],
                                pointBackgroundColor: '#F59E0B',
                                pointBorderColor: '#fff',
                                pointRadius: 3,
                                pointHoverRadius: 5,
                                fill: false,
                                tension: 0.3
                            },
                            {
                                label: 'Industry Benchmark',
                                data: [11.2, 11.5, 11.8, 12.0, 12.3, 12.5, 12.8, 13.0, 13.2, 13.5, 13.8, 14.0],
                                borderColor: '#9e9e9e',
                                backgroundColor: 'rgba(158, 158, 158, 0.1)',
                                borderWidth: 2,
                                borderDash: [2, 2],
                                pointBackgroundColor: '#9e9e9e',
                                pointBorderColor: '#fff',
                                pointRadius: 2,
                                pointHoverRadius: 4,
                                fill: false,
                                tension: 0.3
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15,
                                    font: {
                                        size: 11
                                    }
                                }
                            },
                            title: {
                                display: true,
                                text: 'Portfolio Performance Trend',
                                color: '#004d40',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 77, 64, 0.8)',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#00bfa5',
                                borderWidth: 1,
                                callbacks: {
                                    label: function(context) {
                                        const label = context.dataset.label || '';
                                        const value = context.parsed.y;
                                        return `${label}: ${value.toFixed(1)}%`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                min: 10,
                                max: 16,
                                title: {
                                    display: true,
                                    text: 'IRR (%)',
                                    color: '#004d40',
                                    font: {
                                        weight: 'bold'
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                },
                                ticks: {
                                    stepSize: 1,
                                    color: '#004d40'
                                }
                            },
                            x: {
                                grid: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                },
                                ticks: {
                                    color: '#004d40'
                                }
                            }
                        }
                    }
                });
            }
            
            // Risk Distribution Chart
            const riskDistributionCtx = document.getElementById('risk-distribution-chart');
            if (riskDistributionCtx) {
                new Chart(riskDistributionCtx, {
                    type: 'pie',
                    data: {
                        labels: ['Low Risk', 'Medium Risk', 'High Risk'],
                        datasets: [{
                            data: [60, 30, 10],
                            backgroundColor: ['#10B981', '#F59E0B', '#EF4444'],
                            borderColor: '#ffffff',
                            borderWidth: 2,
                            hoverOffset: 15
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15,
                                    font: {
                                        size: 11
                                    }
                                }
                            },
                            title: {
                                display: true,
                                text: 'Risk Distribution by Category',
                                color: '#004d40',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 77, 64, 0.8)',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#00bfa5',
                                borderWidth: 1,
                                callbacks: {
                                    label: function(context) {
                                        const label = context.label || '';
                                        const value = context.raw;
                                        const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                        const percentage = ((value / total) * 100).toFixed(1);
                                        return `${label}: ${percentage}% (${value} projects)`;
                                    }
                                }
                            }
                        },
                        animation: {
                            animateScale: true,
                            animateRotate: true
                        }
                    }
                });
            }
            
            // Risk Trend Chart
            const riskTrendCtx = document.getElementById('risk-trend-chart');
            if (riskTrendCtx) {
                new Chart(riskTrendCtx, {
                    type: 'line',
                    data: {
                        labels: ['Q1 2024', 'Q2 2024', 'Q3 2024', 'Q4 2024', 'Q1 2025'],
                        datasets: [
                            {
                                label: 'Overall Risk',
                                data: [2.8, 2.5, 2.3, 2.0, 1.8],
                                borderColor: '#00bfa5',
                                backgroundColor: 'rgba(0, 191, 165, 0.1)',
                                borderWidth: 3,
                                pointBackgroundColor: '#00bfa5',
                                pointBorderColor: '#fff',
                                pointRadius: 4,
                                pointHoverRadius: 6,
                                fill: true,
                                tension: 0.3
                            },
                            {
                                label: 'Grid Risk',
                                data: [3.0, 2.8, 2.5, 2.2, 2.0],
                                borderColor: '#F59E0B',
                                backgroundColor: 'rgba(245, 158, 11, 0.1)',
                                borderWidth: 2,
                                pointBackgroundColor: '#F59E0B',
                                pointBorderColor: '#fff',
                                pointRadius: 3,
                                pointHoverRadius: 5,
                                fill: false,
                                tension: 0.3
                            },
                            {
                                label: 'Regulatory Risk',
                                data: [2.5, 2.4, 2.3, 2.1, 2.0],
                                borderColor: '#3B82F6',
                                backgroundColor: 'rgba(59, 130, 246, 0.1)',
                                borderWidth: 2,
                                pointBackgroundColor: '#3B82F6',
                                pointBorderColor: '#fff',
                                pointRadius: 3,
                                pointHoverRadius: 5,
                                fill: false,
                                tension: 0.3
                            },
                            {
                                label: 'Currency Risk',
                                data: [3.2, 2.9, 2.7, 2.4, 2.2],
                                borderColor: '#8B5CF6',
                                backgroundColor: 'rgba(139, 92, 246, 0.1)',
                                borderWidth: 2,
                                pointBackgroundColor: '#8B5CF6',
                                pointBorderColor: '#fff',
                                pointRadius: 3,
                                pointHoverRadius: 5,
                                fill: false,
                                tension: 0.3
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15,
                                    font: {
                                        size: 11
                                    }
                                }
                            },
                            title: {
                                display: true,
                                text: 'Risk Trend Analysis',
                                color: '#004d40',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 77, 64, 0.8)',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#00bfa5',
                                borderWidth: 1,
                                callbacks: {
                                    label: function(context) {
                                        const label = context.dataset.label || '';
                                        const value = context.parsed.y;
                                        let riskLevel = 'Low';
                                        if (value > 3) riskLevel = 'High';
                                        else if (value > 2) riskLevel = 'Medium';
                                        return `${label}: ${value.toFixed(1)} (${riskLevel})`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                min: 1,
                                max: 5,
                                reverse: true, // Lower values are better for risk (1 = low risk, 5 = high risk)
                                title: {
                                    display: true,
                                    text: 'Risk Level (1-5)',
                                    color: '#004d40',
                                    font: {
                                        weight: 'bold'
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                },
                                ticks: {
                                    stepSize: 1,
                                    color: '#004d40',
                                    callback: function(value) {
                                        let label = '';
                                        if (value === 1) label = '1 - Low';
                                        else if (value === 3) label = '3 - Medium';
                                        else if (value === 5) label = '5 - High';
                                        else label = value.toString();
                                        return label;
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                },
                                ticks: {
                                    color: '#004d40'
                                }
                            }
                        }
                    }
                });
            }
            
            // Initialize ROC Curve Chart
            const rocCurveCtx = document.getElementById('roc-curve-chart');
            if (rocCurveCtx) {
                // ROC curve data points
                const fpr = [0, 0.02, 0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]; // False Positive Rate
                const tpr = [0, 0.4, 0.7, 0.8, 0.85, 0.88, 0.9, 0.92, 0.94, 0.95, 0.97, 0.98, 1.0]; // True Positive Rate
                
                new Chart(rocCurveCtx, {
                    type: 'line',
                    data: {
                        labels: fpr.map(val => (val * 100).toFixed(0) + '%'),
                        datasets: [
                            {
                                label: 'XGBoost Model (AUC = 0.92)',
                                data: tpr,
                                borderColor: '#00bfa5',
                                backgroundColor: 'rgba(0, 191, 165, 0.1)',
                                borderWidth: 3,
                                pointBackgroundColor: '#00bfa5',
                                pointBorderColor: '#fff',
                                pointRadius: 4,
                                pointHoverRadius: 6,
                                fill: true,
                                tension: 0.4
                            },
                            {
                                label: 'Random Classifier (AUC = 0.5)',
                                data: fpr,
                                borderColor: '#9e9e9e',
                                borderWidth: 2,
                                borderDash: [5, 5],
                                pointRadius: 0,
                                fill: false
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15,
                                    font: {
                                        size: 11
                                    }
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 77, 64, 0.8)',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#00bfa5',
                                borderWidth: 1,
                                displayColors: false,
                                callbacks: {
                                    label: function(context) {
                                        const datasetLabel = context.dataset.label || '';
                                        const index = context.dataIndex;
                                        return `${datasetLabel}: (FPR: ${fpr[index].toFixed(2)}, TPR: ${tpr[index].toFixed(2)})`;
                                    }
                                }
                            },
                            title: { 
                                display: true,
                                text: 'ROC Curve - Model Performance',
                                color: '#004d40',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            }
                        },
                        scales: {
                            x: {
                                title: { 
                                    display: true,
                                    text: 'False Positive Rate',
                                    color: '#004d40',
                                    font: {
                                        weight: 'bold',
                                        size: 12
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                },
                                ticks: {
                                    color: '#004d40'
                                }
                            },
                            y: {
                                title: { 
                                    display: true,
                                    text: 'True Positive Rate',
                                    color: '#004d40',
                                    font: {
                                        weight: 'bold',
                                        size: 12
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 77, 64, 0.1)'
                                },
                                ticks: {
                                    color: '#004d40'
                                }
                            }
                        }
                    }
                });
                
                // Add AUC annotation
                const chartArea = document.createElement('div');
                chartArea.className = 'chart-annotation';
                chartArea.innerHTML = `
                    <div class="auc-badge">
                        <span class="auc-label">AUC Score:</span>
                        <span class="auc-value">0.92</span>
                    </div>
                `;
                document.getElementById('model-performance-chart').appendChild(chartArea);
            }
            
            // Initialize Feature Importance
            const featureImportanceContainer = document.querySelector('.feature-importance');
            if (featureImportanceContainer) {
                // Sample feature importance data
                const features = [
                    { name: 'Grid Stability', importance: 0.92 },
                    { name: 'Community Engagement', importance: 0.85 },
                    { name: 'Regulatory Navigation', importance: 0.78 },
                    { name: 'Solar Irradiation', importance: 0.65 },
                    { name: 'Equipment Quality', importance: 0.61 },
                    { name: 'Local Workforce', importance: 0.58 }
                ];
                
                // Create feature bars
                features.forEach(feature => {
                    const featureItem = document.createElement('div');
                    featureItem.className = 'feature-item';
                    
                    // Determine color based on importance
                    let barColor;
                    if (feature.importance > 0.8) {
                        barColor = '#10B981'; // High importance - green
                    } else if (feature.importance > 0.6) {
                        barColor = '#00bfa5'; // Medium-high importance - teal
                    } else if (feature.importance > 0.4) {
                        barColor = '#3B82F6'; // Medium importance - blue
                    } else {
                        barColor = '#9CA3AF'; // Lower importance - gray
                    }
                    
                    featureItem.innerHTML = `
                        <div class="feature-name">${feature.name}</div>
                        <div class="feature-bar-container">
                            <div class="feature-bar" style="width: ${feature.importance * 100}%; background-color: ${barColor}"></div>
                            <span class="feature-value">${Math.round(feature.importance * 100)}%</span>
                        </div>
                        <div class="feature-impact">Critical for project success</div>
                    `;
                    featureImportanceContainer.appendChild(featureItem);
                });
            }
        });
    </script>
</body>
</html>